<ng-container *ngIf="minuta == undefined && presentes.length == 0 && ausentes.length == 0">
  <div class="container-loaderMother" style="padding: 25px;">
    <div class="loaderMother"></div>
    <div class="loading-text">Cargando...</div>
  </div>
</ng-container>

<div class="minuta-container" *ngIf="minuta != undefined && presentes.length > 0 || minuta != undefined && ausentes.length > 0 " >
  
  <div style="display: flex; justify-content: end; margin-bottom: -55px;">
    <button matTooltip="Imprimir" class="btnNavegar" printSectionId="minutaEvaluacion" [useExistingCss]="true"
    ngxPrint><mat-icon style="font-size: 22px; margin-top: 5px; ">print</mat-icon></button>
  </div>

  <div id="minutaEvaluacion">

    <div class="header">
      <img src="images.png" alt="ISFODOSU Logo" class="logo">
      <h2>INSTITUTO SUPERIOR DE FORMACIÓN DOCENTE SALOMÉ UREÑA</h2>
    </div>

    <table class="tabla-principal">
      <thead>
        <tr>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" *ngIf="minuta.esUnaEvaluacionCompentencia" colspan="4">MINUTA DE SOCIALIZACIÓN DE EVALUACIÓN POR COMPETENCIAS</th>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" *ngIf="minuta.esUnaEvaluacionCompentencia == false" colspan="4">MINUTA DE REUNION DE MONITOREO DE ACUERDOS DE DESEMPEÑO LABORAL</th>
        </tr>
      </thead>
      <tbody>
        <tr class="info-row">
          <td [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }"><strong>Área: {{minuta.unidadOrg == '' || minuta.unidadOrg == 'N/A' ? appHelper.getUnitOrg(
            minuta.supervisorIntranet.division,
            minuta.supervisorIntranet.departamento,
            minuta.supervisorIntranet.direccion,
            minuta.supervisorIntranet.viceRectoria
            ).nombre : minuta.unidadOrg | titlecase
          }}</strong></td>
          <td [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" colspan="2"></td>
        </tr>
        <tr class="info-row">
          <td [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" ><strong>Fecha de la Reunión (Día/Mes/Año): {{minuta.fechaCreacion | date: 'dd/MM/yyyy'}}</strong></td>
          <td [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" *ngIf="minuta.esUnaEvaluacionCompentencia" colspan="2"><strong>Año de evaluación: {{minuta.periodo.fechaInicio | date:'yyyy'}}</strong></td>
          <td [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" *ngIf="minuta.esUnaEvaluacionCompentencia == false" colspan="2"><strong>Trimestre: {{ getTrimestre(minuta.periodoAcuerdo.fechaFin)}}</strong></td>
        </tr>
      </tbody>
    </table>

    <div [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" class="section-header">PARTICIPANTES</div>
    <table class="tabla-listado">
      <thead>
        <tr>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" >Nombre</th>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" >Cargo</th>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" >Firma</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let participante of presentes; index as i">
          <td>{{i + 1}}. {{participante.nombre}} {{participante.apellido}}</td>
          <td>{{participante.cargo}}</td>
          <td></td>
        </tr>
        <!-- <tr>
          <td class="nota-filas">(Agregar las filas necesarias)</td>
          <td></td>
          <td></td>
        </tr> -->
      </tbody>
    </table>

    <div [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" class="section-header">AUSENTES</div>
    <table class="tabla-listado">
      <thead>
        <tr>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }">Nombre</th>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }">Cargo</th>
          <th [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }">Motivo de la ausencia</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ausente of ausentes; index as i">
          <td>{{i + 1}}. {{ausente.nombre}} {{ausente.apellido}}</td>
          <td>{{ausente.cargo}}</td>
          <td>{{ausente.motivoAusencia}}</td>
        </tr>
        <tr *ngIf="ausentes.length == 0">
          <td colspan="3">No hay colaboradores ausentes.</td>
        </tr>
      </tbody>
    </table>

    <div [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" *ngIf="minuta.esUnaEvaluacionCompentencia == false" class="desarrollo-header">AGENDA DE LA REUNIÓN</div>
    <div *ngIf="minuta.esUnaEvaluacionCompentencia == false" class="desarrollo">{{minuta.agendaReunion}}</div>

    <div [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" class="desarrollo-header">DESARROLLO DE LA REUNIÓN</div>
    <div class="desarrollo">{{minuta.desarrollo}}</div>
    
    <div [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }" class="desarrollo-header">CONCLUSIONES DEL MONITOREO DE LOS ACUERDOS DE DESEMPEÑO</div>
    <div class="desarrollo">{{minuta.conclusion}}</div>

    <div class="recordatorio-header" [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }">RECORDATORIO</div>
    <div class="recordatorio" [ngStyle]="{ 'background-color': minuta.esUnaEvaluacionCompentencia ? '#375623' : '#2E75B5' }">
      Cuando un servidor público no esté de acuerdo con los resultados de la evaluación, podrá elegir los mecanismos que
      dispone el Capítulo IV de la Ley No 41-08 y lo que establece el Reglamento de Relaciones Laborales al respecto.
    </div>

    <div class="footer">
      <span>Modelo de Minuta de Socialización de Evaluación por Competencias</span>
      <span>Pág. 1/1</span>
    </div>
  </div>

  <div style="display: flex ; justify-content: end; margin-top: 15px;">
    <button class="btnCerrar" (click)="closeModal()">Cerrar</button>
</div>
</div>